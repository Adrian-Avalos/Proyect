<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#28a745">
  <meta name="background-color" content="#ffffff">

  <!-- Manifest y íconos para PWA -->
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="imagenes/icono-apple.png">
  <link rel="icon" type="image/png" href="imagenes/icono-192.png">

  <title>Nutrición-APP</title>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

  <!-- Registrar el service worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('SW registrado:', reg.scope))
          .catch(err => console.error('SW error:', err));
      });
    }
  </script>

  <style>
    body {
      height: 100vh;
      margin: 0;
      background: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.95)), url('imagenes/fondo-comida.gif');
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
    .floating-img {
      position: absolute;
      width: 60px;
      opacity: 0.4;
      animation: float 8s ease-in-out infinite;
    }
    .img1 { top: 10%; left: 5%; animation-delay: 0s; }
    .img2 { top: 20%; right: 10%; animation-delay: 2s; }
    .img3 { bottom: 15%; left: 20%; animation-delay: 4s; }
    .img4 { bottom: 10%; right: 15%; animation-delay: 6s; }
    .img5 { top: 30%; left: 40%; animation-delay: 1s; }
    .img6 { bottom: 25%; right: 30%; animation-delay: 3s; }
    .img7 { top: 5%; right: 40%; animation-delay: 5s; }
    .img8 { bottom: 5%; left: 10%; animation-delay: 7s; }

    @keyframes float {
      0% { transform: translateY(0); }
      50% { transform: translateY(-30px); }
      100% { transform: translateY(0); }
    }

    .titulo-animado {
      animation: fadeInScale 2s ease-out;
    }

    @keyframes fadeInScale {
      0% { opacity: 0; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body>

  <!-- Imágenes decorativas -->
  <img src="imagenes/comida1.png" class="floating-img img1" alt="Comida 1">
  <img src="imagenes/comida2.png" class="floating-img img2" alt="Comida 2">
  <img src="imagenes/comida3.png" class="floating-img img3" alt="Comida 3">
  <img src="imagenes/comida4.png" class="floating-img img4" alt="Comida 4">
  <img src="imagenes/comida1.png" class="floating-img img5" alt="Comida 5">
  <img src="imagenes/comida2.png" class="floating-img img6" alt="Comida 6">
  <img src="imagenes/comida3.png" class="floating-img img7" alt="Comida 7">
  <img src="imagenes/comida4.png" class="floating-img img8" alt="Comida 8">

  <!-- Formulario de inicio de sesión -->
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6 col-lg-5">
        <div class="card shadow border-0">
          <div class="card-body">
            <h3 class="card-title text-center text-success mb-4 titulo-animado">Inicio de Sesión Nutrición</h3>
            <form onsubmit="return validarLogin(event)">
              <div class="form-group">
                <label for="email">Usuario</label>
                <input type="text" class="form-control" id="email" placeholder="ADMINISTRADOR" value="ADMINISTRADOR">
              </div>
              <div class="form-group">
                <label for="password">Contraseña</label>
                <input type="password" class="form-control" id="password" placeholder="Contraseña">
              </div>
              <button type="submit" class="btn btn-success btn-block">Iniciar sesión</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Validación JS -->
  <script>
    function validarLogin(event) {
      event.preventDefault();
      const user = document.getElementById("email").value.trim().toUpperCase();
      const pass = document.getElementById("password").value.trim();
      const usuarioValido = "ADMINISTRADOR";
      const contrasenaValida = "123";

      if (user === usuarioValido && pass === contrasenaValida) {
        location.assign("menu.html"); // evita salir del modo app
      } else {
        alert("Usuario o contraseña incorrectos");
      }
      return false;
    }
  </script>

  <!-- JS Bootstrap -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
